# 认证流程

**前提：** 申请AppKey和SecurityKey


|参数|描述|作用|适用接口|
|------|------|-----|-----|
|expiredTime|当前时间戳      |防止DDos等无效请求|所有 |
|api        |请求的接口      |防止参数被更改|所有|
|body       |POST请求参数   |防止参数被更改|POST请求  |
|token      |登陆凭证       |不需要登陆的请求可以省略|

将上述参数组成JSON字符串，示例：

{
"expiredTime":"当前时间戳"
"api":"接口path"
"body":"body内的参数"
"token":"登陆凭证"
}

将JSON字符串进行加密.

在请求URL加上参数appkey、sign

> 加密算法：AES（对称加密）

# 接口参数

|path                       |描述                 |method       |参数|
|------                     |------               |-----       |-----|
|/api/v1/authcode/email     |获取邮箱验证码         |get          |email       |
|/api/v1/file/{id}          |下载文件bytes         |get         |id|
|/api/v1/file/upload        |上传文件              |post        |files  |
|/api/v1/fishing/add        |添加钓鱼场            |post         |
|/api/v1/fishing/near       |获取附近的钓鱼场       |get          |longitude,latitude,maxDistance
|/api/v1/user/regnew        |注册                 |post         |
|/api/v1/user/resetpwd      |重置密码              |post         |
|/api/v1/user/{id}          |获取用户信息           |get          |
|/api/v1/session/login      |登录                 |post         |
|/api/v1/weather/           |获取天气              |get          |